# Rootstalk-Workflow

This document is intended to provide comprehensive guidance for editors working to create or modify the print and/or web editions of _Rootstalk_.  The document is divided into two primary sections: 
  - *Editing Rootstalk for Print*, and 
  - *Editing Rootstalk for the Web*. 

## Assumptions and Conventions

An `issue` of _Rootstalk_ is single bound print publication, created once or twice per year following the _fall_ and/or _spring_ academic term.  Each issue is commonly identified by its year-of-issue followed with a "term" identifier corresponding to the semester in which the issue was assembled.  For example, an issue assembled in the Fall semester of the 2015-16 academic year would be identified as `2015-fall`, and the next issue assembled in the Spring of that academic year would be identified as `2016-spring`.

Each issue is part of a `volume` which contains one or two issues from a single academic year.  Each issue also has a corresponding `title` consisting of a volume number, using Roman numerals, followed by a single-digit issue number of 1 or 2.  Our example issues from the 2015-16 academic year have titles like:

  - _Volume II, Issue 1_ : This is the `2015-fall` issue.
  - _Volume II, Issue 2_ : This is the `2016-spring` issue.

Issues are comprised of `articles` and `print-extras`. Articles are included in the web-edition of _Rootstalk_ as individual web "pages", sometimes with print-extra content included.  The overall structure of the website is described by:

  - current issue
    - issue index
      - article 1
      - article 2
       - ...
      - article n
  - past issues
    - year-term 1
      - issue index
        - articles 1...n
    - year-term 2
      - issue index
        - articles 1...n
    - ...
    - year-term n
      - issue index
        - articles 1...n

&copy;[InDesign](https://www.adobe.com/products/indesign) by &copy;[Adobe](https://www.adobe.com) will be used to manage, assemble, edit, and publish all print versions of _Rootstalk_.  _InDesign_'s `File`>`Export...`>`HTML` feature will be used to generate an HTML copy of each print-version issue to seed the creation of that issue in the [Rootstalk](https://rootstalk.grinnell.edu) website.  &copy;[Hugo](https://gohugo.io) is used to manage, assemble, edit and publish this website. 

## Editing _Rootstalk_ for Print

@TODO: to be completed by Mark B.?

## Editing _Rootstalk_ for the Web

This portion of the workflow MUST follow successful publication of an issue in-print.

  - Find the issue's `.indd` file and rename it, if necessary, using the convention of `year-term`.  For example, the issue assembled in the Spring of 2016 should be named `2016-spring.indd`.
  
  - Open the properly named issue `.indd` file using _InDesign_ and export it using `File`>`Export...`>`HTML` with all default options.  This should produce a new `.html` file and corresponding `-web-resources` folder.  For example, an _InDesign_ export of a file named `2016-spring.indd` will produce the following:
    - a `2016-spring.html` file, and 
    - a `2016-spring-web-resources` folder of media files. 
  
  - Inside the `-web-resources` folder, create an `issue.yml` file reflecting the web-structure of the issue.  See the [Issue.YML File](./Issue.YML File) section for details.  In our `2016-spring` example the file should have a path of: `./2016-spring-web-resources/issue.yml`.
  
### Issue.YML File

Each issue must have a corresponding `issue.yml` file housed in the `-web-resources` folder generated by _InDesign_ when the issue is exported to HTML.  The structure of an `issue.yml` file is [YAML](https://yaml.org), and its contents include the following fields:
  - `year` - The 4-digit calendar year in which the issue was assembled.
  - `term` - The academic term in which the issue was assembled.  Usually "spring" or "fall".
  - `title` - The title of the issue.  Usually in a form like: "Volume II, Issue 2, Spring 2016".  Surrounding quotes are only required if the title contains a quote, colon, or other punctuation.
  - `articles` - A list declaration of identifiers for article to be included in the web-version of the issue.

Each `articles` value **must be unique** within the corresponding issue and  values generally reflect the last name of the author, if known, or may alternatively reflect the author's role with _Rootstalk_, or a brief description of the article's content.  Some examples include:

  - `editor` - A role reference used to identify the "Editor's Note" or an article written by the _Rootstalk_ editor.
  - `birds` - A subject reference used to identify a collection of distributed pieces about "Birds of the Prairie" in the issue.
  - `thomasch-1` - An author reference used to identify the first of two articles in this issue by an author with a last name of "Thomasch".

This is a sample of the `issue.yml` file describing the `2016-spring` issue of _Rootstalk_.

```yml
year: 2016
term: spring
title: Volume II, Issue 2, Spring 2016
articles:
  - editor
  - arena
  - snow
  - birds
  - weeks  
  - duncombe-mills  
  - johnson    
  - kaiser 
  - kyaruzi  
  - thomasch-1  
  - kincaid  
  - thomasch-2  
  - carl  
  - harris-love  
  - herrnstadt  
  - wannamaker  
  - atmore  
  - dubbeldbee-kuhn  
  - jiminez  
  - kuhn  
```

